# 3. squid.conf file (place in ./squid-proxy/squid.conf)

# SQLite-based basic authentication
auth_param basic program /usr/lib/squid/basic_db_auth --dsn "dbi:SQLite:dbname=/etc/squid/auth/database.db" --table users --usercol username --passwdcol password --cond "1" --plaintext --persist

auth_param basic children 2
auth_param basic realm Squid proxy-caching web server
acl authenticated proxy_auth REQUIRED

# Allow only authenticated users
http_access allow authenticated
http_access deny all

# Squid settings
http_port 3128
cache deny all
access_log /var/log/squid/access.log
cache_log /var/log/squid/cache.log
pid_filename /var/run/squid.pid

